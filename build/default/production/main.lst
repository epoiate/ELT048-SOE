gpasm-1.2.0 #980 (May 17 2013) build/default/   4-1-2015  10:06:20          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;--------------------------------------------------------
                      00002 ; File Created by SDCC : free open source ANSI-C Compiler
                      00003 ; Version 3.3.0 #8604 (May 11 2013) (MINGW32)
                      00004 ; This file was generated Wed Apr 01 10:06:20 2015
                      00005 ;--------------------------------------------------------
                      00006 ; PIC16 port for the Microchip 16-bit core micros
                      00007 ;--------------------------------------------------------
                      00008         list    p=18f4520
                      00009         radix   dec
                      00010         CONFIG  MCLRE=ON
                      00011         CONFIG  OSC=HS
                      00012         CONFIG  WDT=OFF
                      00013         CONFIG  LVP=OFF
                      00014         CONFIG  DEBUG=OFF
                      00015         CONFIG  WDTPS=1
                      00016 
                      00017 
                      00018 ;--------------------------------------------------------
                      00019 ; public variables in this module
                      00020 ;--------------------------------------------------------
  0000                00021         global  _main
                      00022 
                      00023 ;--------------------------------------------------------
                      00024 ; extern variables in this module
                      00025 ;--------------------------------------------------------
  0000                00026         extern  __gptrget3
  0000                00027         extern  _getLedDriver
                      00028 
                      00029 ;--------------------------------------------------------
                      00030 ;       Equates to used internal registers
                      00031 ;--------------------------------------------------------
  00000FF9            00032 PCL     equ     0xff9
  00000FFA            00033 PCLATH  equ     0xffa
  00000FFB            00034 PCLATU  equ     0xffb
  00000FF2            00035 INTCON  equ     0xff2
  00000FFD            00036 TOSL    equ     0xffd
  00000FFE            00037 TOSH    equ     0xffe
  00000FFF            00038 TOSU    equ     0xfff
  00000FE9            00039 FSR0L   equ     0xfe9
  00000FE1            00040 FSR1L   equ     0xfe1
  00000FE5            00041 POSTDEC1        equ     0xfe5
  00000FE4            00042 PREINC1 equ     0xfe4
  00000FF3            00043 PRODL   equ     0xff3
  00000FF4            00044 PRODH   equ     0xff4
                      00045 
                      00046 
                      00047 ; Internal registers
                      00048 .registers      udata_ovr       0x0000
000000                00049 r0x00   res     1
000001                00050 r0x01   res     1
000002                00051 r0x02   res     1
000003                00052 r0x03   res     1
000004                00053 r0x04   res     1
gpasm-1.2.0 #980 (May 17 2013) build/default/   4-1-2015  10:06:20          PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000005                00054 r0x05   res     1
000006                00055 r0x06   res     1
000007                00056 r0x07   res     1
000008                00057 r0x08   res     1
                      00058 
                      00059 ;--------------------------------------------------------
                      00060 ; interrupt vector
                      00061 ;--------------------------------------------------------
                      00062 
                      00063 ;--------------------------------------------------------
                      00064 ; global & static initialisations
                      00065 ;--------------------------------------------------------
                      00066 ; I code from now on!
                      00067 ; ; Starting pCode block
                      00068 S_main__main    code
000000                00069 _main:
                      00070 ;       .line   8; main.c       led = getLedDriver();
000000 EC?? F0??      00071         CALL    _getLedDriver
000004 6E??           00072         MOVWF   r0x00
000006 CFF3 F000      00073         MOVFF   PRODL, r0x01
00000A CFF4 F000      00074         MOVFF   PRODH, r0x02
                      00075 ;       .line   9; main.c       led->drv_init(0);
00000E 50??           00076         MOVF    r0x00, W
000010 0F04           00077         ADDLW   0x04
000012 6E??           00078         MOVWF   r0x03
000014 0E00           00079         MOVLW   0x00
000016 20??           00080         ADDWFC  r0x01, W
000018 6E??           00081         MOVWF   r0x04
00001A 0E00           00082         MOVLW   0x00
00001C 20??           00083         ADDWFC  r0x02, W
00001E 6E??           00084         MOVWF   r0x05
000020 C??? F???      00085         MOVFF   r0x03, FSR0L
000024 C??? F???      00086         MOVFF   r0x04, PRODL
000028 50??           00087         MOVF    r0x05, W
00002A EC?? F0??      00088         CALL    __gptrget3
00002E 6E??           00089         MOVWF   r0x03
000030 CFF3 F000      00090         MOVFF   PRODL, r0x04
000034 CFF4 F000      00091         MOVFF   PRODH, r0x05
000038 0E00           00092         MOVLW   0x00
00003A 6EE5           00093         MOVWF   POSTDEC1
00003C 0E00           00094         MOVLW   0x00
00003E 6EE5           00095         MOVWF   POSTDEC1
000040 0E00           00096         MOVLW   0x00
000042 6EE5           00097         MOVWF   POSTDEC1
000044 CFF2 FFE5      00098         MOVFF   INTCON, POSTDEC1
000048 9EF2           00099         BCF     INTCON, 7
00004A 0005           00100         PUSH    
00004C 0E??           00101         MOVLW   LOW(_00107_DS_)
00004E 6EFD           00102         MOVWF   TOSL
000050 0E??           00103         MOVLW   HIGH(_00107_DS_)
000052 6EFE           00104         MOVWF   TOSH
000054 0E??           00105         MOVLW   UPPER(_00107_DS_)
000056 6EFF           00106         MOVWF   TOSU
gpasm-1.2.0 #980 (May 17 2013) build/default/   4-1-2015  10:06:20          PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000058 BEE4           00107         BTFSC   PREINC1, 7
00005A 8EF2           00108         BSF     INTCON, 7
00005C C??? F???      00109         MOVFF   r0x05, PCLATU
000060 C??? F???      00110         MOVFF   r0x04, PCLATH
000064 50??           00111         MOVF    r0x03, W
000066 6EF9           00112         MOVWF   PCL
000068                00113 _00107_DS_:
000068 0E03           00114         MOVLW   0x03
00006A 26E1           00115         ADDWF   FSR1L, F
                      00116 ;       .line   10; main.c      led->drv_func[LED_PORTD](0x00);
00006C 50??           00117         MOVF    r0x00, W
00006E 0F01           00118         ADDLW   0x01
000070 6E??           00119         MOVWF   r0x03
000072 0E00           00120         MOVLW   0x00
000074 20??           00121         ADDWFC  r0x01, W
000076 6E??           00122         MOVWF   r0x04
000078 0E00           00123         MOVLW   0x00
00007A 20??           00124         ADDWFC  r0x02, W
00007C 6E??           00125         MOVWF   r0x05
00007E C??? F???      00126         MOVFF   r0x03, FSR0L
000082 C??? F???      00127         MOVFF   r0x04, PRODL
000086 50??           00128         MOVF    r0x05, W
000088 EC?? F0??      00129         CALL    __gptrget3
00008C 6E??           00130         MOVWF   r0x06
00008E CFF3 F000      00131         MOVFF   PRODL, r0x07
000092 CFF4 F000      00132         MOVFF   PRODH, r0x08
000096 C??? F???      00133         MOVFF   r0x06, FSR0L
00009A C??? F???      00134         MOVFF   r0x07, PRODL
00009E 50??           00135         MOVF    r0x08, W
0000A0 EC?? F0??      00136         CALL    __gptrget3
0000A4 6E??           00137         MOVWF   r0x06
0000A6 CFF3 F000      00138         MOVFF   PRODL, r0x07
0000AA CFF4 F000      00139         MOVFF   PRODH, r0x08
0000AE 0E00           00140         MOVLW   0x00
0000B0 6EE5           00141         MOVWF   POSTDEC1
0000B2 0E00           00142         MOVLW   0x00
0000B4 6EE5           00143         MOVWF   POSTDEC1
0000B6 0E00           00144         MOVLW   0x00
0000B8 6EE5           00145         MOVWF   POSTDEC1
0000BA CFF2 FFE5      00146         MOVFF   INTCON, POSTDEC1
0000BE 9EF2           00147         BCF     INTCON, 7
0000C0 0005           00148         PUSH    
0000C2 0E??           00149         MOVLW   LOW(_00108_DS_)
0000C4 6EFD           00150         MOVWF   TOSL
0000C6 0E??           00151         MOVLW   HIGH(_00108_DS_)
0000C8 6EFE           00152         MOVWF   TOSH
0000CA 0E??           00153         MOVLW   UPPER(_00108_DS_)
0000CC 6EFF           00154         MOVWF   TOSU
0000CE BEE4           00155         BTFSC   PREINC1, 7
0000D0 8EF2           00156         BSF     INTCON, 7
0000D2 C??? F???      00157         MOVFF   r0x08, PCLATU
0000D6 C??? F???      00158         MOVFF   r0x07, PCLATH
0000DA 50??           00159         MOVF    r0x06, W
gpasm-1.2.0 #980 (May 17 2013) build/default/   4-1-2015  10:06:20          PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000DC 6EF9           00160         MOVWF   PCL
0000DE                00161 _00108_DS_:
0000DE 0E03           00162         MOVLW   0x03
0000E0 26E1           00163         ADDWF   FSR1L, F
                      00164 ;       .line   11; main.c      led->drv_func[LED_INVERTE](led);
0000E2 C??? F???      00165         MOVFF   r0x03, FSR0L
0000E6 C??? F???      00166         MOVFF   r0x04, PRODL
0000EA 50??           00167         MOVF    r0x05, W
0000EC EC?? F0??      00168         CALL    __gptrget3
0000F0 6E??           00169         MOVWF   r0x03
0000F2 CFF3 F000      00170         MOVFF   PRODL, r0x04
0000F6 CFF4 F000      00171         MOVFF   PRODH, r0x05
0000FA 0E03           00172         MOVLW   0x03
0000FC 26??           00173         ADDWF   r0x03, F
0000FE 0E00           00174         MOVLW   0x00
000100 22??           00175         ADDWFC  r0x04, F
000102 22??           00176         ADDWFC  r0x05, F
000104 C??? F???      00177         MOVFF   r0x03, FSR0L
000108 C??? F???      00178         MOVFF   r0x04, PRODL
00010C 50??           00179         MOVF    r0x05, W
00010E EC?? F0??      00180         CALL    __gptrget3
000112 6E??           00181         MOVWF   r0x03
000114 CFF3 F000      00182         MOVFF   PRODL, r0x04
000118 CFF4 F000      00183         MOVFF   PRODH, r0x05
00011C 50??           00184         MOVF    r0x02, W
00011E 6E??           00185         MOVWF   r0x02
000120 50??           00186         MOVF    r0x01, W
000122 6E??           00187         MOVWF   r0x01
000124 50??           00188         MOVF    r0x00, W
000126 6E??           00189         MOVWF   r0x00
000128 50??           00190         MOVF    r0x02, W
00012A 6EE5           00191         MOVWF   POSTDEC1
00012C 50??           00192         MOVF    r0x01, W
00012E 6EE5           00193         MOVWF   POSTDEC1
000130 50??           00194         MOVF    r0x00, W
000132 6EE5           00195         MOVWF   POSTDEC1
000134 CFF2 FFE5      00196         MOVFF   INTCON, POSTDEC1
000138 9EF2           00197         BCF     INTCON, 7
00013A 0005           00198         PUSH    
00013C 0E??           00199         MOVLW   LOW(_00109_DS_)
00013E 6EFD           00200         MOVWF   TOSL
000140 0E??           00201         MOVLW   HIGH(_00109_DS_)
000142 6EFE           00202         MOVWF   TOSH
000144 0E??           00203         MOVLW   UPPER(_00109_DS_)
000146 6EFF           00204         MOVWF   TOSU
000148 BEE4           00205         BTFSC   PREINC1, 7
00014A 8EF2           00206         BSF     INTCON, 7
00014C C??? F???      00207         MOVFF   r0x05, PCLATU
000150 C??? F???      00208         MOVFF   r0x04, PCLATH
000154 50??           00209         MOVF    r0x03, W
000156 6EF9           00210         MOVWF   PCL
000158                00211 _00109_DS_:
000158 0E03           00212         MOVLW   0x03
gpasm-1.2.0 #980 (May 17 2013) build/default/   4-1-2015  10:06:20          PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00015A 26E1           00213         ADDWF   FSR1L, F
00015C 0012           00214         RETURN  
                      00215 
                      00216 
                      00217 
                      00218 ; Statistics:
                      00219 ; code size:      350 (0x015e) bytes ( 0.27%)
                      00220 ;                 175 (0x00af) words
                      00221 ; udata size:       0 (0x0000) bytes ( 0.00%)
                      00222 ; access size:      9 (0x0009) bytes
                      00223 
                      00224 
                      00225         end
gpasm-1.2.0 #980 (May 17 2013) build/default/   4-1-2015  10:06:20          PAGE  6


SYMBOL TABLE
  LABEL                             VALUE

FSR0L                             00000FE9
FSR1L                             00000FE1
INTCON                            00000FF2
PCL                               00000FF9
PCLATH                            00000FFA
PCLATU                            00000FFB
POSTDEC1                          00000FE5
PREINC1                           00000FE4
PRODH                             00000FF4
PRODL                             00000FF3
TOSH                              00000FFE
TOSL                              00000FFD
TOSU                              00000FFF
_00107_DS_                        00000068
_00108_DS_                        000000DE
_00109_DS_                        00000158
__18F4520                         00000001
__gptrget3                        00000000
_getLedDriver                     00000000
_main                             00000000
r0x00                             00000000
r0x01                             00000001
r0x02                             00000002
r0x03                             00000003
r0x04                             00000004
r0x05                             00000005
r0x06                             00000006
r0x07                             00000007
r0x08                             00000008

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

